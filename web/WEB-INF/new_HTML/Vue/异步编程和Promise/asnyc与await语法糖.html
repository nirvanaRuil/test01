<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>asnyc与await语法糖</title>
</head>
<body>
</body>
<script src="ajax.js"></script>
<script>
    async function hd() {
        let name = await new Promise(resolve => {
            resolve('hou')
        });  //await就是then的语法糖,省去了then后面v=>{}那一堆,直接可以new Promise了.
        console.log(name);
    }
    hd()

    //例子
    async function get(name) {
        let host = "http://localhost:8888/php"
        let user = await ajax(`${host}/user.php?name=${name}`)  //获取到了资料
        await ajax(`${host}/houdunren.php?id=${user}`)
        console.log(lessons);
    }
    get("hou")  //调用

    //例子  延迟函数
    //封装
    async function sleep(delay=2000) {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve();
            },delay);
        })
    }
    //调用 显示:每隔2秒出来
    async function show() {
        for (const inter of [1,2,3]){
            await sleep(); //这轮不结束进不到下轮里去
            console.log(inter);
        }
    }
    show();  //调用函数




</script>
</html>